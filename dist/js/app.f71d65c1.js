(function(t){function e(e){for(var s,a,u=e[0],o=e[1],c=e[2],_=0,p=[];_<u.length;_++)a=u[_],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,u=1;u<i.length;u++){var o=i[u];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},r=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/memory_management/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"4bdd":function(t,e,i){"use strict";i("78ab")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Home")],1)},r=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Home"},[i("el-container",[i("ControlPanel",{attrs:{algorithm:t.algorithm,page_fault_num:t.page_fault_num,inst_num:320,exec_inst_num:t.exec_inst_num,cur_inst:t.inst_addr,execute_type:t.execute_type},on:{reset:t.reset,execute:t.execute,set_algorithm:t.setAlgorithm,set_execute_type:t.setExecuteType}}),i("FrameList",{staticClass:"block-flex",attrs:{page_num:[t.page_list[0],t.page_list[1],t.page_list[2],t.page_list[3]],cur_inst:[t.cur_inst[0],t.cur_inst[1],t.cur_inst[2],t.cur_inst[3]]}}),i("el-main"),i("el-aside",{attrs:{width:"420px",height:"100px"}},[i("InstructionList",{staticClass:"form-flex",attrs:{inst_list:t.inst_history}})],1)],1)],1)},u=[],o=i("2909"),c=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"borders"},[i("el-card",[t._v(" OS-请求调页"),i("br"),t._v(" 1852612 周涵嵩 ")]),i("div",[i("br"),i("div",[t._v("当前置换算法")]),i("br"),t._v(" "+t._s(t.algorithm)+" "),i("br"),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.setAlgo("FIFO")}}},[t._v("FIFO")]),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.setAlgo("LRU")}}},[t._v("LRU")])],1),i("br"),i("div",[t._v("总指令条数")]),i("br"),i("div",[t._v(t._s(t.inst_num)+"条")]),i("br"),i("div",[t._v("已执行指令条数")]),i("br"),i("div",[t._v(t._s(t.exec_inst_num)+"条")]),i("br"),i("div",[t._v("当前正在执行指令")]),i("br"),i("div",[t._v(t._s(t.cur_inst))]),i("div",[t._v("缺页次数")]),i("br"),i("div",[t._v(t._s(t.page_fault_num))]),i("br"),i("div",[t._v("缺页率")]),i("br"),i("div",[t._v(t._s(t.page_fault_rate)+"%")]),i("el-main",[i("el-button",{attrs:{type:"primary",round:"",disabled:"停止执行"===t.execute_type},on:{click:t.reset}},[t._v("重置指令")]),i("el-divider",{attrs:{direction:"horizontal"}}),i("el-button",{attrs:{type:"primary",round:"",disabled:"停止执行"===t.execute_type},on:{click:t.singleExec}},[t._v("单步执行")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-button",{class:{"el-button--danger":"停止执行"===t.execute_type},attrs:{type:"primary",round:""},on:{click:t.continuousExec}},[t._v(t._s(t.execute_type))])],1)],1)}),l=[],_={name:"ControlPanel",props:{algorithm:String,execute_type:String,inst_num:Number,exec_inst_num:Number,cur_inst:Number,page_fault_num:Number},data:function(){return{interval:Object,period:Number}},created:function(){this.algorithm="FIFO",this.period=20},methods:{singleExec:function(){this.exec_inst_num>=320?"停止执行"===this.execute_type&&(alert("指令执行完毕！"),this.$emit("set_execute_type","连续执行"),clearInterval(this.interval)):this.$emit("execute",this.period)},continuousExec:function(){"连续执行"===this.execute_type?(this.$emit("set_execute_type","停止执行"),this.interval=setInterval(this.singleExec,this.period)):(this.$emit("set_execute_type","连续执行"),clearInterval(this.interval),this.period=20)},setAlgo:function(t){this.$emit("set_algorithm",t)},reset:function(){this.$emit("reset")}},computed:{page_fault_rate:{get:function(){return 0===this.exec_inst_num?0:Math.floor(this.page_fault_num/this.exec_inst_num*100)}}}},p=_,h=(i("a226"),i("2877")),d=Object(h["a"])(p,c,l,!1,null,"602336a1",null),m=d.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"frame-list"},t._l(t.frame_id,(function(e){return i("div",{key:e,staticClass:"block"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("Frame # "+t._s(e))]),i("br")]),i("div",{staticStyle:{"text-align":"center"}},[i("span",[t._v("Page #")]),-1!==t.page_num[e]?i("span",[t._v(" "+t._s(t.page_num[e])+" ")]):i("span",[t._v(" 空 ")]),i("br"),i("span",[t._v("当前指令: ")]),-1!==t.page_num[e]?i("span",[t._v(" "+t._s(t.cur_inst[e])+" ")]):i("span",[t._v(" 空 ")]),i("el-col",t._l(t.address_list[e],(function(e){return i("div",{key:e.physical_address,staticClass:"item"},[i("el-row",[t._v(" "+t._s(e.physical_address)+" ")])],1)})),0)],1)])],1)})),0)},g=[],v={name:"FrameList",props:{page_num:Array,cur_inst:Array},data:function(){return{frame_id:[0,1,2,3],color:[]}},watch:{page_num:function(t){console.log(t)}},computed:{address_list:{get:function(){for(var t=[],e=0;e<4;e++)if(t[e]=[],this.page_num[e]>=0&&this.page_num[e]<32)for(var i=0;i<10;++i)t[e].push({physical_address:10*this.page_num[e]+i});else for(var s=0;s<10;++s)t[e].push({physical_address:"EMPTY"});return t}}}},y=v,b=(i("4bdd"),Object(h["a"])(y,f,g,!1,null,"13bb4e7d",null)),x=b.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inst-list"},[i("el-table",{staticStyle:{width:"100%"},attrs:{height:"600px",data:t.inst_list,stripe:""}},[i("el-table-column",{attrs:{prop:"instruction",label:"指令序号",width:"80"}}),i("el-table-column",{attrs:{prop:"address",label:"指令地址",width:"80"}}),i("el-table-column",{attrs:{prop:"missPage",label:"缺页",width:"80"}}),i("el-table-column",{attrs:{prop:"passPage",label:"换出页"}})],1)],1)},O=[],P={name:"InstructionList",props:{inst_list:[]}},j=P,M=Object(h["a"])(j,w,O,!1,null,"75aa28c3",null),F=M.exports,T={name:"Home",components:{ControlPanel:m,FrameList:x,InstructionList:F},data:function(){return{page_list:[],inst_history:[],cur_inst:[],switch_page:Array,call_in_time:Array,priority:Array,inst_addr:Number,algorithm:String,execute_type:String,page_fault_num:Number,exec_inst_num:Number}},created:function(){this.page_list=[-1,-1,-1,-1],this.cur_inst=[-1,-1,-1,-1],this.switch_page=[0,0,0,0],this.inst_addr=100,this.algorithm="FIFO",this.execute_type="连续执行",this.page_fault_num=0,this.exec_inst_num=0,this.priority=[0,0,0,0];var t=new Date;this.call_in_time=[];for(var e=0;e<4;++e)this.call_in_time.push(t.getTime())},methods:{getRandomNum:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},getNextInst:function(){var t=Math.random();return t<.5?(this.inst_addr+1)%320:t>=.5&&t<.75?this.getRandomNum((this.inst_addr+1)%320,319):this.getRandomNum(0,this.inst_addr-1)},execute:function(t){for(var e=this,i=this.getNextInst(),s=Math.floor(i/10),n=0;n<4;++n)this.priority[n]++;for(var r=!0,a=0;a<4;++a)if(this.page_list[a]===s){r=!1,this.priority[a]=0;break}if(r)if(this.page_fault_num++,"FIFO"===this.algorithm){var u=Math.min.apply(Math,Object(o["a"])(this.call_in_time)),c=this.call_in_time.indexOf(u);-1===this.page_list[c]?this.inst_history.unshift({instruction:this.exec_inst_num,address:i,missPage:"True",passPage:"无"}):this.inst_history.unshift({instruction:this.exec_inst_num,address:i,missPage:"True",passPage:this.page_list[c]}),this.page_list[c]=s,this.cur_inst[c]=i,this.call_in_time[c]=(new Date).getTime(),this.priority[c]=0,this.switch_page[c]=1,setTimeout((function(){e.switch_page[c]=0}),.75*t)}else{var l=Math.min.apply(Math,Object(o["a"])(this.priority)),_=this.priority.indexOf(l);-1===this.page_list[_]?this.inst_history.unshift({instruction:this.exec_inst_num,address:i,missPage:"True",passPage:"无"}):this.inst_history.unshift({instruction:this.exec_inst_num,address:i,missPage:"True",passPage:this.page_list[_]}),this.page_list[_]=s,this.cur_inst[_]=i,this.priority[_]=0,this.switch_page[_]=1,setTimeout((function(){e.switch_page[_]=0}),.75*t)}else this.inst_history.unshift({instruction:this.exec_inst_num,address:i,missPage:"False",passPage:"-"});this.exec_inst_num++,this.inst_addr=i},setExecuteType:function(t){this.execute_type=t},setAlgorithm:function(t){this.algorithm=t},reset:function(){this.inst_addr=0,this.execute_type="连续执行",this.page_fault_num=0,this.exec_inst_num=0,this.page_list=[-1,-1,-1,-1],this.inst_history=[],this.switch_page=[0,0,0,0],this.priority=[0,0,0,0];var t=new Date;this.call_in_time=[];for(var e=0;e<4;++e)this.call_in_time.push(t.getTime())}}},I=T,k=(i("8a57"),Object(h["a"])(I,a,u,!1,null,"5dad5060",null)),C=k.exports,E={name:"App",components:{Home:C}},N=E,S=(i("034f"),Object(h["a"])(N,n,r,!1,null,null,null)),$=S.exports,A=i("5c96"),L=i.n(A),R=(i("0fae"),i("8c4f"));s["default"].use(R["a"]);var H=[{path:"/",name:"MemoryInterface",component:C}],D=new R["a"]({mode:"history",base:"/memory_management/",routes:H}),J=D;s["default"].config.productionTip=!1,s["default"].use(L.a),new s["default"]({router:J,render:function(t){return t($)}}).$mount("#app")},"78ab":function(t,e,i){},"85ec":function(t,e,i){},"8a57":function(t,e,i){"use strict";i("d430")},a226:function(t,e,i){"use strict";i("faa3")},d430:function(t,e,i){},faa3:function(t,e,i){}});
//# sourceMappingURL=app.f71d65c1.js.map